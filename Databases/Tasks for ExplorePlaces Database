Task 1: SQL Query Practice

use exploreplaces;

1. Find restaurant names that do not offer delivery.
SELECT name FROM restaurants WHERE delivery_available=0; --correct

2. Select all unique types of reactions on reviews.
SELECT DISTINCT reaction_type FROM review_reactions; --correct

3. Find all restaurants located in the USA or the UK.
select restaurants.* from restaurants
inner join cities on restaurants.city_id = cities.city_id where country='UK' OR country='USA';
Correct but just simpler for now
SELECT *
FROM restaurants
WHERE city_id IN (2, 3);  

4. Find all users aged between 25 and 35.
SELECT * FROM users
WHERE age BETWEEN '25' AND '35';  --correct

5. Select all reviews where the comment starts with the word “Great”.
SELECT * FROM exploreplaces.reviews where comment LIKE 'Great%';  --correct

6. Select all review comments and their restaurant IDs where the comment mentions the word ‘cuisine.’
SELECT restaurant_id, comment FROM exploreplaces.reviews where comment like '%cuisine%'; 
 --correct

7. Change delivery availability to false for the restaurant named “Curry & Co”.
UPDATE exploreplaces.restaurants
SET delivery_available = 0
WHERE name = 'Curry & Co';
 --correct but better to use id for update and delete

8. Select all reviews with a rating greater than 4, made in 2025 or in December 2024, by user ID 1 or 11.
SELECT * FROM exploreplaces.reviews
WHERE (user_id=1 or user_id=11) and rating>4 and DATE( review_date) between '2024-12-01' AND '2025-12-31';
SELECT *
FROM reviews
WHERE (review_date >= '2025-01-01' AND review_date <= '2025-12-31'
   	OR review_date >= '2024-12-01' AND review_date <= '2024-12-31')
  AND rating > 4
  AND user_id IN (1, 11);

9. Insert a new Armenian user into the system.
INSERT INTO users (user_id, full_name, email, age, country, join_date)
VALUES (14, 'Aram Karapetyan', 'aram.karapetyan12@gmail.com', 23, 'Armenia', '2023-10-19');
 --correct

10. Delete a reaction made by the user Mateo Rossi.
SELECT * FROM exploreplaces.review_reactions;

Task 2: Extend the Database with Hotels

1.Design a new structure for hotels, including realistic information such as location, stars, and amenities.

2.Ensure each hotel is associated with a valid city, reflecting a proper relational design.
CREATE TABLE hotels (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100),
  location VARCHAR(100),
  stars INT,
  price_per_night DECIMAL(10,2),
  has_wifi BOOLEAN,
  has_pool BOOLEAN,
  rating DECIMAL(3,2)
);
ALTER TABLE hotels
CHANGE COLUMN has_wifi wifi BOOLEAN,
CHANGE COLUMN has_pool pool BOOLEAN;

3.Modify the existing review system so users can write reviews for hotels.
ALTER TABLE reviews
ADD COLUMN hotel_id INT NULL,
ADD FOREIGN KEY (hotel_id) REFERENCES hotels(id);
ALTER TABLE reviews
ADD COLUMN hotel_rating INT NULL;
ALTER TABLE reviews
ADD COLUMN hotel_comment varchar(255) NULL;

4.Insert multiple hotel records and corresponding reviews for existing users.
insert into reviews (user_id, restaurant_id, rating, comment,review_date, hotel_id, hotel_rating, hotel_comment) values
(14,4, 5, 'frfrvb','2025-12-12', 7, 3, 'great hotel' ),
 (13,4, 5, 'ghfhgfgty','2025-12-12', 7, 3, 'fantastic place' ),
 (11,4, 5, 'ghftrcy5b','2025-12-12', 7, 3, 'very hot room ' )

Good job (will discuss the second part of the task  during the lesson)
